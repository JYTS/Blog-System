# 用户相关接口

### 1 用户登录

**请求**

- 方法: POST

-  URL: http://127.0.0.1:8080/Blog-System/user/login

**请求体**

| 字段名   | 格式   | 是否必需 | 简介   |
| -------- | ------ | -------- | ------ |
| username | String | T        | 用户名 |
| password | String | T        | 密码   |

**响应**

- 成功响应（200）


- 错误响应（101-103）



### 2 用户注册

**请求**

- 方法: POST
- URL: http://127.0.0.1:8080/Blog-System/user/register

**请求体**

| 字段名   | 格式   | 是否必需 | 简介     |
| -------- | ------ | -------- | -------- |
| username | String | T        | 用户名   |
| password | String | T        | 密码     |
| email    | String | T        | 电子邮件 |

**响应**

- 成功响应（200）

- 错误响应（101-102）

  

### 3 获取用户信息（未完成）

**请求**

- 方法: POST
- URL: http://127.0.0.1:8080/Blog-System/user/info

**请求体**

| 字段名   | 格式   | 是否必需 | 简介   |
| -------- | ------ | -------- | ------ |
| username | String | T        | 用户名 |

**响应**

- 成功响应（200）

- 错误响应（101-102）

| 字段名       | 格式    | 是否必需 | 简介                          |
| ------------ | ------- | -------- | ----------------------------- |
| id           | Int     | T        | 用户id                        |
| email        | String  | F        | 用户邮箱                      |
| isAdmin      | Boolean | T        | 是否拥有管理员权限            |
| registerTime | String  | T        | 注册时间"YYYY-MM-DD hh:mm:ss" |



### 4 用户修改密码（未完成）

**请求**

- 方法: POST
- URL: http://127.0.0.1:8080/Blog-System/user/pwdModify

**请求体**

| 字段名   | 格式   | 是否必需 | 简介   |
| -------- | ------ | -------- | ------ |
| username | String | T        | 用户名 |
| password | String | T        | 密码   |

**响应**

- 成功响应（200）

- 错误响应（101）



### 5 用户管理员权限变更（未完成）

**请求**

- 方法: POST

-  URL: http://127.0.0.1:8080/Blog-System/user/authorityModify

**请求体**

| 字段名   | 格式    | 是否必需 | 简介                   |
| -------- | ------- | -------- | ---------------------- |
| username | String  | T        | 用户名                 |
| isAdmin  | Boolean | T        | 更改后是否为管理员权限 |

**响应**

- 成功响应（200）
- 错误响应（101）

### 6 注销用户账号（未完成）



# 博客相关接口

## 博客属性相关接口

### 1 根据博客id获取文章详细内容

**请求**

- 方法: GET

-  URL: http://127.0.0.1:8080/Blog-System/blog/info

**请求体**

- id（int, 必需）- 要获取的文章的id

**响应**

- 成功响应（200）

- 错误响应（101, 104）

| 字段名   | 格式   | 是否必需 | 简介                 |
| -------- | ------ | -------- | -------------------- |
| id       | Int    | T        | 博客id               |
| content  | String | T        | 博客内容             |
| author   | String | T        | 作者名字             |
| authorid | Int    | T        | 作者用户id           |
| date     | String | T        | 发布日期"YYYY-MM-DD" |



### 2 创建博客文章

**请求**

- 方法: POST

- URL: http://127.0.0.1:8080/Blog-System/blog/insert

**请求体**

| 字段名   | 格式   | 是否必需 | 简介       |
| -------- | ------ | -------- | ---------- |
| title    | String | T        | 博客标题   |
| username | String | T        | 作者用户名 |

**响应**

- 成功响应（200）

- 错误响应（101，102）

| 字段名     | 格式 | 是否必需 | 简介     |
| ---------- | ---- | -------- | -------- |
| article_id | Int  | T        | 博客的ID |





### 3 删除博客文章

**描述**

该接口用于从服务器端删除指定ID的博客文章。

 **请求**

- 方法: DELETE

- URL: http://127.0.0.1:8080/Blog-System/blog/delete

**请求体**

- id（int, 必需）- 要删除的博客文章的ID

**响应**

- 成功响应（200）
- 错误响应（101, 104）



### 4 修改文章（未完成）

**描述**

该接口用于向服务器端发布文章内容，文章内容可以分为多个部分发送，每个部分不能超过1500字符。用户需要提供文章ID、作者用户名、文章内容的每个部分，以及部分的总数和当前部分的索引。

 **请求**

- 方法: POST

- URL: http://127.0.0.1:8080/Blog-System/blog/modify

**请求体**

| 字段名    | 格式   | 是否必需 | 简介                                 |
| --------- | ------ | -------- | ------------------------------------ |
| articleid | Int    | T        | 要修改的博客的ID                     |
| author    | String | T        | 作者用户名                           |
| title     | String | T        | 文章标题                             |
| content   | String | T        | 要修改的文章内容的部分，最大1500字符 |
| allnum    | Int    | T        | 文章内容总共被分为多少部分           |
| index     | Int    | T        | 当前修改部分的索引                   |

**响应**

- 成功响应（200）

- 错误响应（101，104）



## 评论相关接口

### 1 获取文章评论

**描述**

该接口用于根据文章ID从服务器端请求文章的评论数据，并将评论数据显示在页面上。

**请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/comment/getComments

**请求体**

- articleid（int, 必需）- 要获取评论的博客的id

**响应**

- 成功响应（200）

- 错误响应（101, 104）

| 字段名     | 格式 | 是否必需 | 简介                 |
| ---------- | ---- | -------- | -------------------- |
| article_id | Int  | T        | 博客的id             |
| comments   | List | T        | 若干条评论组成的数组 |

 其中，评论的结构如下：

| 字段名       | 格式   | 是否必需 | 简介         |
| ------------ | ------ | -------- | ------------ |
| comment_id   | Int    | T        | 评论的id     |
| user_name    | String | T        | 评论者用户名 |
| comment_text | String | T        | 评论内容     |
| timestamp    | String | T        | 评论时间戳   |

 

### 2 提交评论

**描述**

该接口用于向服务器提交评论，以对指定文章进行评论。评论需要包括文章ID、用户名和评论文本。用户必须已登录，其用户名必须存储在Cookie中。

**请求**

- 方法: POST

- URL: http://127.0.0.1:8080/Blog-System/comment/insert

**请求体**

| 字段名    | 格式   | 是否必需 | 简介               |
| --------- | ------ | -------- | ------------------ |
| articleid | Int    | T        | 博客的id           |
| username  | String | T        | 提交评论的用户名   |
| text      | String | T        | 评论文本，评论内容 |

**响应**

- 成功响应（200）

- 错误响应（101, 102, 104）

 

### 3 删除评论

**请求**

- 方法: DELETE

- URL: http://127.0.0.1:8080/Blog-System/comment/delete

**请求体**

| 字段名     | 格式 | 是否必需 | 简介     |
| ---------- | ---- | -------- | -------- |
| Comment_id | Int  | T        | 评论的id |

**响应**

- 成功响应（200）

- 错误响应（101, 105）



## 标签相关接口接口

### 1 获取文章的标签

**请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/tag/getTags

**请求体**

- id（int, 必需）- 要获取标签的文章的id

**响应**

- 成功响应（200）

- 错误响应（101, 104）

| 字段名     | 格式 | 是否必需 | 简介                   |
| ---------- | ---- | -------- | ---------------------- |
| article_id | Int  | T        | 博客的id               |
| tags       | List | T        | 数个标签信息组成的数组 |

标签信息的结构如下

| 字段名 | 格式   | 是否必需 | 简介     |
| ------ | ------ | -------- | -------- |
| tag    | String | T        | 标签名称 |

  

### 2 添加标签

**描述**

该接口用于向服务器端添加标签到指定文章。用户需要提供文章ID和要添加的标签名称。

 **请求**

- 方法: POST

- URL: http://127.0.0.1:8080/Blog-System/tag/insert

**请求体**

| 字段名    | 格式   | 是否必需 | 简介                 |
| --------- | ------ | -------- | -------------------- |
| articleID | Int    | T        | 要添加标签的博客的id |
| tagName   | String | T        | 要添加的标签的名称   |

**响应**

- 成功响应（200）

- 错误响应（101, 104）



### 3 删除标签

 **请求**

- 方法: DELETE

- URL: http://127.0.0.1:8080/Blog-System/tag/delete

**请求体**

| 字段名    | 格式   | 是否必需 | 简介                 |
| --------- | ------ | -------- | -------------------- |
| articleID | Int    | T        | 要删除标签的博客的id |
| tagName   | String | T        | 要删除的标签的名称   |

**响应**

- 成功响应（200）

- 错误响应（101, 104, 106）

 

### 4 加载n个标签

**描述**

该接口用于从服务器端获取标签数据，并将标签元素添加到指定的容器中。用户需要提供要加载的标签数量。

 **请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/tag/getnTags

**请求体**

- num（int, 必需）- 要加载的标签数量

**响应**

- 成功响应（200）

- 错误响应（101）

| 字段名 | 格式 | 是否必需 | 简介                   |
| ------ | ---- | -------- | ---------------------- |
| tags   | List | T        | 数个标签信息组成的数组 |

标签信息的结构如下

| 字段名 | 格式   | 是否必需 | 简介     |
| ------ | ------ | -------- | -------- |
| tag    | String | T        | 标签名称 |

 

## 搜索博客相关接口

### 1 获取number数量的随机存在的博客id

**请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/query/rand

**请求体**

- number（int, 必需）- 要获取的随机博客ID的数量

**响应**

- 成功响应（200）
- 错误响应（101）

| 字段名 | 格式 | 是否必需 | 简介                     |
| ------ | ---- | -------- | ------------------------ |
| blogs  | List | T        | 若干组博客信息组成的数组 |

 其中，每组博客信息的结构如下：

| 字段名 | 格式   | 是否必需 | 简介     |
| ------ | ------ | -------- | -------- |
| id     | Int    | T        | 博客的id |
| title  | String | T        | 博客标题 |

 

### 2 用户名搜索博客

**请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/query/username

**请求体**

- username（String, 必需）- 用户名，用于指定要搜索博客文章的用户

**响应**

- 成功响应（200）
- 错误响应（101, 102）

| 字段名 | 格式 | 是否必需 | 简介                     |
| ------ | ---- | -------- | ------------------------ |
| blogs  | List | T        | 若干组博客信息组成的数组 |

 其中，每组博客信息的结构如下：

| 字段名 | 格式   | 是否必需 | 简介     |
| ------ | ------ | -------- | -------- |
| id     | Int    | T        | 博客的id |
| title  | String | T        | 博客标题 |



### 3 关键词搜索博客

**描述**

该接口用于从服务器端搜索包含指定关键词的文章，然后返回相应的文章ID列表。用户需要提供搜索关键词。

 **请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/query/keyword

**请求体**

- searchtxt（String, 必需）- 搜索关键词

**响应**

- 成功响应（200）
- 错误响应（101）

| 字段名 | 格式 | 是否必需 | 简介                     |
| ------ | ---- | -------- | ------------------------ |
| blogs  | List | T        | 若干组博客信息组成的数组 |

 其中，每组博客信息的结构如下：

| 字段名 | 格式   | 是否必需 | 简介     |
| ------ | ------ | -------- | -------- |
| id     | Int    | T        | 博客的id |
| title  | String | T        | 博客标题 |



### 4 标签名搜索博客

**描述**

该接口用于从服务器端根据标签名查询文章ID数组，以获取与指定标签相关的文章。用户需要提供要查询的标签名称。

 **请求**

- 方法: GET

- URL: http://127.0.0.1:8080/Blog-System/query/tagname

**请求体**

- tagname（String, 必需）- 指定要搜索的标签名称

**响应**

- 成功响应（200）
- 错误响应（101）

| 字段名 | 格式 | 是否必需 | 简介                     |
| ------ | ---- | -------- | ------------------------ |
| blogs  | List | T        | 若干组博客信息组成的数组 |

 其中，每组博客信息的结构如下：

| 字段名 | 格式   | 是否必需 | 简介     |
| ------ | ------ | -------- | -------- |
| id     | Int    | T        | 博客的id |
| title  | String | T        | 博客标题 |



### 5 发布时间搜索（未完成）

